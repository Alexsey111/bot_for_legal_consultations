"""
Конфигурация pytest с фикстурами для тестов

Простая версия без зависимостей от langchain_core
"""

import pytest
import os
from pathlib import Path
import tempfile
from unittest.mock import Mock, patch

# Локальные модули
import sys
sys.path.insert(0, str(Path(__file__).parent.parent))


@pytest.fixture
def sample_user_data():
    """Пример данных пользователя для тестов"""
    return {
        "user_id": 12345,
        "username": "testuser",
        "first_name": "Тест",
        "last_name": "Пользователь",
        "language_code": "ru"
    }


@pytest.fixture
def sample_consultation_data():
    """Пример данных консультации для тестов"""
    return {
        "user_id": 12345,
        "preferred_date": "2024-03-01",
        "preferred_time": "10:00",
        "contact_phone": "+79001234567",
        "contact_email": "test@example.com",
        "topic": "Договор купли-продажи",
        "description": "Вопрос о возврате товара"
    }


@pytest.fixture
def sample_gk_text():
    """Пример текста ГК РФ для тестов"""
    return """
Глава 1. Общие положения

Статья 1. Гражданское законодательство

1. Гражданское законодательство основывается на признании равенства участников регулируемых им отношений, неприкосновенности собственности, свободы договора, недопустимости произвольного вмешательства кого-либо в частные дела, необходимости беспрепятственного осуществления гражданских прав, обеспечения восстановления нарушенных прав, их судебной защиты.

2. Граждане (физические лица) и юридические лица приобретают и осуществляют свои гражданские права своей волей и в своем интересе. Они свободны в установлении своих прав и обязанностей на основе договора и в определении любых не противоречащих законодательству условий договора.

Статья 2. Отношения, регулируемые гражданским законодательством

1. Гражданское законодательство регулирует отношения, основанные на равенстве, автономии воли и имущественной самостоятельности их участников.

Глава 12. Исковая давность

Статья 196. Общий срок исковой давности

1. Общий срок исковой давности составляет три года.

2. Срок исковой давности начинает течь со дня, когда лицо узнало или должно было узнать о нарушении своего права.
"""
